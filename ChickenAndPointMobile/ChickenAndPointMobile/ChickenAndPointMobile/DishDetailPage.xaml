<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:ChickenAndPointMobile.ViewModels"
             xmlns:ffimageloading="clr-namespace:FFImageLoading.Forms;assembly=FFImageLoading.Forms"
             x:Class="ChickenAndPointMobile.DishDetailPage"
             BackgroundImageSource="background.png">

    <ContentView Padding="20" VerticalOptions="Center" HorizontalOptions="Center">

        <Frame CornerRadius="15"
               Padding="0"
               HasShadow="True"
               IsClippedToBounds="True"
               BackgroundColor="#E6FFFFFF"
            VerticalOptions="Center"
               HorizontalOptions="Center"
               WidthRequest="{OnPlatform Android='340', iOS='340'}">

            <StackLayout Spacing="0">

                <ffimageloading:CachedImage
                    Source="{Binding ImageSourceToShow}"
                    Aspect="AspectFill"
                    HeightRequest="240"
                    LoadingPlaceholder="placeholder_dish.png"
                    ErrorPlaceholder="error_dish.png"
                    DownsampleToViewSize="True"
                    BackgroundColor="Transparent"/>

                <StackLayout Padding="20" Spacing="12" BackgroundColor="Transparent">

                    <Label Text="{Binding НазваниеБлюда}"
                           FontSize="Title"
                           FontAttributes="Bold"
                           TextColor="Black"
                        HorizontalTextAlignment="Center"/>

                        <Label Text="{Binding Цена, StringFormat='{0:N2} ₽'}"
                           FontSize="Large"
                           FontAttributes="Bold"
                           TextColor="OrangeRed"
                           HorizontalTextAlignment="Center"/>

                        <ScrollView HeightRequest="90" VerticalScrollBarVisibility="Default">
                            <Label Text="{Binding Описание}"
                               FontSize="Body"
                               TextColor="#222222"
                                HorizontalTextAlignment="Start"/>
                        </ScrollView>

                        <Grid Margin="0,15,0,0" ColumnSpacing="10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <Button Grid.Column="0"
                                Text="В корзину"
                                BackgroundColor="OrangeRed"
                                TextColor="White"
                                CornerRadius="8"
                                FontAttributes="Bold"
                                Clicked="AddToCartButton_Clicked"/>

                            <Button Grid.Column="1"
                                Text="Закрыть"
                                BackgroundColor="LightGray"
                                TextColor="#555555"
                                CornerRadius="8"
                                Clicked="CloseButton_Clicked"/>
                        </Grid>
                </StackLayout>
            </StackLayout>
        </Frame>
    </ContentView>
</ContentPage>